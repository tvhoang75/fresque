# FRESQUE: A scalable ingestion framework dedicated to secure range queries on clouds
FRESQUE, a framework for secure range query processing, that enables a scalable consumption throughput while still maintaining strong privacy protection for outsourced data. This implementation contains our FRESQUE protocol as described in the [EDBT21 paper](https://edbt2021proceedings.github.io/docs/p55.pdf), including six components: Dispatcher, Merger, Checking Node, Computing Node, Cloud, and Data source. These components run independently and communicate with each other via TCP/IP socket.

WARNING: This is an academic proof-of-concept prototype and has not received careful code review. This implementation may NOT be ready for production use.

# Get started

There are three main files in the folder **./properties** that are used to set up the executing environment for FRESQUE: *app.properties, local.properties, and remote.properties.*

+ **app.properties** contains adjustable parameters in FRESQUE. The other files (local.properties and remote.properties) are updated according to resources. To run FRESQUE on local machine, **local.properties** will be taken into account while remote.properties is used when FRESQUE is deployed on a cluster of many physical/virtual machines. To choose which type of environment for running FRESQUE, the parameter environment must be modified accordingly. For example, to run all components of FRESQUE on the local machine, the environment parameter must be set to 'local' (e.g., environment=local), otherwise it is set to 'remote'.

+ **local.propertise** or **remote.properties** basically contain the same number of parameters. These files are mainly used to configure IP addresses of components, paths to data source, and output.

## Important parameters 

In **app.properties**

*source.type*: Type of data source used (e.g., log or gowalla)

*num.publication*: The total number of publications

*common.time.interval*: The publishing time interval (unit: ms)

In **local/remote.properties**

*incoming.data.rate*: The number of records generated by the Data Source every second (e.g., 100 => 100 records/second)

*datasource.path*: The path indicates the folder containing Data Source. Note that name of data sources must be named the same as indicated in 'source.type' parameter. For example, if the source.type=log, the name of the file data source must be "log" 

## Data sources for testing

- [log](https://www.dropbox.com/s/pwndum0r7crzt1e/log-NASA?dl=0)
- [gowalla](https://snap.stanford.edu/data/loc-gowalla.html)

# Build and Run
## Building environment

- Java 1.8
- Maven 3.0

Build project: **./start.sh b**

After building successfully, an executable file named **fresque-1.0.jar** is created at the root folder of the project.

To launch components of FRESQUE, executing the corresponding commands at the folder containing 'fresque-1.0.jar' with syntax: **./start.sh [component's name]**
E.g., To run the dispatcher component, enter the command './start.sh dispatcher'

** Note: The components in FRESQUE need to be run in the following order:

```shell
./start.sh  cloud
./start.sh  merger
./start.sh  checker
./start.sh  dispatcher
./start.sh  servernode
./start.sh  servernode
   ... (as many computing nodes you want)
./start.sh  datagenerator
```
## Contact

**Authors**: Hoang Van Tran, Tristan Allard, Laurent dâ€™Orazio, and Amr El Abbadi

**Email**: tvhoang75@gmail.com
